{% extends 'main.html' %}

{% block content %}
<br>
      <div class="container" style="width: 85%; background-color:#212529; margin-top:3%; align-items:center; text-align:center; padding:2%;">
          <p class="text-uppercase font-weight-light" style="color:#d8e2ed;  font-weight:lighter; font-size:25px; letter-spacing: 2px; "><nobr>Subjects for each semester for respective departments</nobr> </p>
          

      </div>
      <div class="container" style="width: 85%; background-color:#f5f6f7;  align-items:center; padding:1% 1.5% 1.5% 1.5%;">
        <div class="row" style="margin-bottom: 6px; justify-content: space-between;" >
          <div class="col">
            <form action="">
              <div class="input-group mb-3" style="width: 70%;">
                  <input type="text" class="form-control" placeholder="year,dept..." aria-label="Recipient's username" aria-describedby="button-addon2" name="search_query" value={{search_query}}>
                  <button class="btn btn-outline-secondary" type="submit" id="button-addon2" style="border-color:#212529 ;"><i class="fas fa-search"></i></button>
              </div>
            </form>
            
            
          </div>
          <div class="col" >
            <button type="button" class="btn btn-success text-uppercase" style=" margin-inline-start: 60%; margin-bottom:10px;"> <a href="{% url 'create_dept_sem_papers' %}" style="color: white; text-decoration:none;"><span>&#43</span> Assign Subjects</a></button>
      
            
          </div>
        </div>

        <table class="table table-bordered">
            <thead style="text-align:center;">
                <tr>
                  <th class="text-uppercase" scope="col"> <nobr>Semester</nobr></th>
                  <th class="text-uppercase" scope="col">Departemnt</th>  
                  <th class="text-uppercase" scope="col">batch</th>
                  <th class="text-uppercase" scope="col">Subjects</th>
                </tr>
              </thead>
              <tbody>
                {% for dept_sem_paper in dept_sem_papers %}
                <tr style="vertical-align:middle; text-align:center;">
                  <td class="text-uppercase "> {{dept_sem_paper.semester}} </td>
                  <td class="text-uppercase" > {{dept_sem_paper.dept}} </td>
                  <td class="text-uppercase" >{{dept_sem_paper.batch}}</td>
                  
                  <td class="text-uppercase" > 
                    <ul  class="list-unstyled" style="text-align:center;"> 
                    {% for subject in dept_sem_paper.subjects.all %}
                        <li>{{subject}} <span style="font-weight: bold;">({{subject.name}})</span> </li>
                      {% endfor %}
                    </ul>
                  </td> 
                  
                  <td class="text-uppercase"><a style="text-decoration: none;" href="{% url 'update_dept_sem_papers' dept_sem_paper.id %}"><i class="fas fa-edit" style="color: #c29929;"></i> </a></td>
                </tr>
                {% endfor %}
              </tbody>
        </table>
      </div>

{% endblock %}